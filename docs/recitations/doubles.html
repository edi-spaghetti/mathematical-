
<!DOCTYPE html>

<html>
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Doubles &#8212; maths 6.042 documentation</title>
    <link rel="stylesheet" type="text/css" href="../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../_static/alabaster.css" />
    <link rel="stylesheet" type="text/css" href="../_static/graphviz.css" />
    <script data-url_root="../" id="documentation_options" src="../_static/documentation_options.js"></script>
    <script src="../_static/jquery.js"></script>
    <script src="../_static/underscore.js"></script>
    <script src="../_static/doctools.js"></script>
    <script async="async" src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-mml-chtml.js"></script>
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="Asymptotic Notation" href="asymptotics.html" />
    <link rel="prev" title="Equivalence Relations" href="relations.html" />
   
  <link rel="stylesheet" href="../_static/custom.css" type="text/css" />
  
  
  <meta name="viewport" content="width=device-width, initial-scale=0.9, maximum-scale=0.9" />

  </head><body>
  

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          

          <div class="body" role="main">
            
  <section id="doubles">
<h1>Doubles<a class="headerlink" href="#doubles" title="Permalink to this headline">¶</a></h1>
<section id="the-l-tower-problem">
<h2>1. The L-tower problem<a class="headerlink" href="#the-l-tower-problem" title="Permalink to this headline">¶</a></h2>
<div class="admonition-introduction admonition">
<p class="admonition-title">Introduction</p>
<p>Observe the structures shown in Figure 1. One has 2 L-shapes, the other 5 L-shapes.
Consider a tower with k L-shapes.
Assume that the blocks are all of size <span class="math notranslate nohighlight">\(x \times 1\)</span> where <span class="math notranslate nohighlight">\(x &gt; 1\)</span>.
As the picture indicates, if k is too small then the tower falls to the left.
On the other hand, if k is too large the tower would fall to the right.
Will the tower be stable for some k?
Prove there is at least one value of k for which the L-tower is stable.
Assume that a structure is stable if and only if its center of gravity is not hanging in the air horizontally.
The L-tower is stable if and only if each of its subparts is stable.</p>
<p><em>Hint</em>: Show the tower is stable if and only if <span class="math notranslate nohighlight">\({3x - 3 \over 2} \le k \le {3x - 1 \over 2}\)</span>.</p>
<img alt="../_images/L-tower.png" class="align-center" src="../_images/L-tower.png" />
</div>
<p>First, consider a single L-shape.</p>
<img alt="../_images/L1.png" class="align-center" src="../_images/L1.png" />
<p>If we calculate from the bottom left corner being zero, its horizontal center of mass is an average of the two blocks.
The horizontal block has a center at <span class="math notranslate nohighlight">\({x \over 2}\)</span>.
The vertical block has a center at <span class="math notranslate nohighlight">\({1 \over 2}\)</span> since the block is defined as having a width of 1.</p>
<p>As an average this works out to;</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{aligned}\\c_1 &amp;= {{x \over 2} + {1 \over 2} \over 2}\\c_1 &amp;= {x + 1 \over 4}\\\end{aligned}\end{aligned}\end{align} \]</div>
<p>Now consider an L-shape above the first L-shape.</p>
<img alt="../_images/L2.png" class="align-center" src="../_images/L2.png" />
<p>We can calculate the combined horizontal center of mass as follows;</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{aligned}\\c_2 &amp;= {x \over 2} + {1 \over 2} + \big( 1 + {x \over 2} \big) + \big( 1 + {1 \over 2} \big)\\c_2 &amp;= {x + 3 \over 4}\\c_2 &amp;= c_1 + {1 \over 2}\\\end{aligned}\end{aligned}\end{align} \]</div>
<p>Note that center of mass has increased by <span class="math notranslate nohighlight">\({1 \over 2}\)</span> to the right.
Any L-shapes above the first one must have their combined center of mass less than or equal to x,
otherwise they will fall to the right.</p>
<p>In general, the center of mass for a k L-shape configuration, <span class="math notranslate nohighlight">\(c_k\)</span>,
can be calculated as follows,</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{aligned}\\c_k &amp;= {\sum\limits_{i=1}^{k} (i - 1) + {x \over 2} + (i - 1) + {1 \over 2} \over 2k}\\&amp;= {k \cdot \big( {x + 1 \over 2} \big) + [0, 1, 2, \dots, k - 1] \over 2k}\\&amp;= {k \cdot \big ( {x + 1 \over 2} \big ) + k \cdot (k - 1) \over 2k}\\&amp;= {{x + 1 \over 2} + k - 1 \over 2}\\&amp;= {x + 1 \over 4} + {k - 1 \over 2}\\\end{aligned}\end{aligned}\end{align} \]</div>
<p>For the k L-shape not to fall to the left, the center of mass must not to be further left than the left edge of the initial vertical block,
and to not fall to the right the center of mass must not be further than the right edge.
This can be expressed as the condition,</p>
<div class="math notranslate nohighlight">
\[x - 1 \le c_k \le x\]</div>
<p>An increase in k moves the center of mass <span class="math notranslate nohighlight">\({1 \over 2}\)</span> to the right,
so we can calculate <span class="math notranslate nohighlight">\(c_{k - 1}\)</span> as,</p>
<div class="math notranslate nohighlight">
\[c_{k - 1} = {x + 1 \over 4} + {k - 1 \over 2} - {1 \over 2}\]</div>
<p>For any stable k L-tower, we can then say</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}c_{k - 1} \le x - 1\\{x + 1 \over 4} + {k - 1 \over 2} - {1 \over 2} \le x - 1\\{x + 1 \over 4} + {k - 1 \over 2} \le x - {1 \over 2}\\c_k \le x - {1 \over 2}\end{aligned}\end{align} \]</div>
<p>This is a stricter upper bound on <span class="math notranslate nohighlight">\(c_k\)</span>, which gives us,</p>
<div class="math notranslate nohighlight">
\[x - 1 \le c_k \le x - {1 \over 2}\]</div>
<p>That can be solved for k as follows,</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{aligned}\\x - 1 &amp;\le {x + 1 \over 4} + {k - 1 \over 2} &amp;&amp;\le x - {1 \over 2}\\x - 1 &amp;\le {x + 2k - 1 \over 4} &amp;&amp;\le x - {1 \over 2}\\4x - 4 &amp;\le x + 2k - 1 &amp;&amp;\le 4x - 2\\4x - 3 &amp;\le x + 2k &amp;&amp;\le 4x - 1\\3x - 3 &amp;\le 2k &amp;&amp;\le 3x - 1\\{3x - 3 \over 2} &amp;\le k &amp;&amp; \le {3x - 1 \over 2}\\\end{aligned}\end{aligned}\end{align} \]</div>
<p>We can then work out the difference between the upper and lowers bounds,</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{aligned}\\{3x - 1 \over 2} - {3x - 3 \over 2} &amp;= 1\\{2 \over 2} &amp;= 1\\\end{aligned}\end{aligned}\end{align} \]</div>
<p>If x is an odd integer, then stable values for k are the lower bound, the midpoint and the upper bound,
or <span class="math notranslate nohighlight">\(\lbrack x - 1, x - {1 \over 2}, x \rbrack\)</span>,
because the bounds will evaluate to an even number, y.</p>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{aligned}\\y &amp;= {3x - 3 \over 2}\\&amp;= {3 \cdot odd - 3 \over 2}\\&amp;= {odd - 3 \over 2}\\&amp;= {even \over 2}\\&amp;= even\\\end{aligned}\end{aligned}\end{align} \]</div>
<p>If x is anything else, however, then there are two stable values for k,
<span class="math notranslate nohighlight">\(\lbrack y, z \rbrack\)</span>, where <span class="math notranslate nohighlight">\(x - 1 &lt; y &lt; x - {1 \over 2}\)</span> and <span class="math notranslate nohighlight">\(z = y + {1 \over 2}\)</span>.</p>
</section>
<section id="double-sums">
<h2>Double Sums<a class="headerlink" href="#double-sums" title="Permalink to this headline">¶</a></h2>
<div class="admonition-intro admonition">
<p class="admonition-title">Intro</p>
<p>Sometimes we have to evaluate sums of sums, otherwise known as double summations.
It’s good to know how to tame these beasts!
Here’s an example of a double summation:</p>
<div class="math notranslate nohighlight">
\[\sum\limits_{i=1}^{n} \sum\limits_{j=1}^{i} j\]</div>
<p>It looks ferocious…all those sharp teeth!
But actually, this double summation is just a sheep in wolf’s clothing:
to evaluate it, we can just evaluate the inner sum, replace it with a closed form we already know,
and then evaluate the outer sum which no longer has a summation inside it.</p>
</div>
<div class="admonition-question admonition">
<p class="admonition-title">Question</p>
<p>Evaluate the summation. (Hint: <span class="math notranslate nohighlight">\(\sum (a + b) = \sum a + \sum b\)</span>.)</p>
</div>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{aligned}\\\sum\limits_{i=1}^{n} {i(i+1) \over 2} \qquad &amp; \text{ replace inner sum with closed form} \cr\\\sum\limits_{i=1}^{n} {i^2 + i \over 2} \qquad &amp; \text{ multiply out parentheses } \cr\\{1 \over 2} \cdot \sum\limits_{i=1}^{n} i^2 + i \qquad &amp; \text{ multiply by common factor} \cr\\{1 \over 2} \cdot \big( \sum\limits_{i=1}^{n} i^2 + \sum\limits_{i=1}^{n} i \big) \qquad &amp; \text{ separate summations} \cr\\{1 \over 2} \cdot \big( {n^3 \over 3} + {n^2 \over 2} + {n \over 6} + {n(n+1) \over 2} \big ) \qquad &amp; \text{ replace with known closed forms} \cr\\{1 \over 2} \cdot \big( {n^3 \over 3} + {n^2 \over 2} + {n \over 6} + {n^2 \over 2} + {n \over 2} \big) \qquad &amp; \text{ multiply out inner parenthesis} \cr\\{1 \over 2} \cdot \big( {2n^3 \over 6} + {3n^2 \over 6} + {n \over 6} + {3n^2 \over 6} + {3n \over 6} \big) \qquad &amp; \text{ multiply up to common factor} \cr\\{1 \over 2} \cdot \big( {2n^3 + 6n^2 + 4n \over 6} \big) \qquad &amp; \text{ add fractions} \cr\\{1 \over 2} \cdot \big( {n^3 + 3n^2 + 2n \over 3} \big) \qquad &amp; \text{ simplify} \cr\\\end{aligned}\end{aligned}\end{align} \]</div>
<div class="admonition-intro admonition">
<p class="admonition-title">Intro</p>
<p>Unfortunately, not all summations are so docile.
Fortunately, we have ways to deal with this.
There’s a special trick that is often extremely useful for sums, and that is to exchange the order of summation.
We’ll go through an example here.
For the remainder of the problem we’ll wrestle with the sum of the harmonic numbers:</p>
<div class="math notranslate nohighlight">
\[\sum\limits_{k=1}^{n} H_k\]</div>
<p>At first glance, it looks like just a single summation, but do not be deceived.</p>
</div>
<div class="admonition-question admonition">
<p class="admonition-title">Question</p>
<p>First, write it as a double summation.</p>
</div>
<div class="math notranslate nohighlight">
\[\sum\limits_{k=1}^{n} \sum\limits_{j=1}^{k} {1 \over j}\]</div>
<div class="admonition-question admonition">
<p class="admonition-title">Question</p>
<p>Now try to gain some intuition for exactly what you’re up against by integrating the summation in its less threatening single-summation form.
You may use <span class="math notranslate nohighlight">\(H_k \approx \ln k\)</span>.</p>
</div>
<p>The given solution is;</p>
<div class="math notranslate nohighlight">
\[\sum\limits^{n}_{k=1} \ln k = \int^{n}_{k=1} \ln n = n \ln n - n + 1\]</div>
<p>However, if we use <span class="math notranslate nohighlight">\(n = 3\)</span></p>
<blockquote>
<div><p>sumlimits^{3}_{k=1} ln k = ln 1 + ln 2 + ln 3 = 0 + 0.69… + 1.09… = 1.79…</p>
<p>n ln n - n + 1 = 3 ln 3 - 3 + 1 = 1.29…</p>
</div></blockquote>
<p>So I don’t understand how they got their solution, and their solution appears to be incorrect anyway.
It’s obviously wrong because <span class="math notranslate nohighlight">\(H_1 = 1\)</span>, but <span class="math notranslate nohighlight">\(\ln 1 = 0\)</span>, which is nowhere near approximately correct.</p>
<div class="admonition-question admonition">
<p class="admonition-title">Question</p>
<p>Finally, we’ll look for an exact answer.
If we think about the pairs (k, j) over which we are summing, they form a triangle in the table below.
The values in the cells of the table correspond to the terms in the double summation.
The first two rows have been filled in for you.
Complete the remaining three rows to see the pattern.</p>
</div>
<table class="colwidths-given docutils align-default" id="id1">
<caption><span class="caption-text">Sample list table</span><a class="headerlink" href="#id1" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
<col style="width: 14%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head stub"><p><span class="math notranslate nohighlight">\({j \over k}\)</span></p></th>
<th class="head"><p>1</p></th>
<th class="head"><p>2</p></th>
<th class="head"><p>3</p></th>
<th class="head"><p>4</p></th>
<th class="head"><p>…</p></th>
<th class="head"><p>n</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><th class="stub"><p>1</p></th>
<td><p>1</p></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p>2</p></th>
<td><p>1</p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 2}\)</span></p></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p>3</p></th>
<td><p>1</p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 3}\)</span></p></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p>4</p></th>
<td><p>1</p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 4}\)</span></p></td>
<td></td>
<td></td>
</tr>
<tr class="row-even"><th class="stub"><p>…</p></th>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
<td></td>
</tr>
<tr class="row-odd"><th class="stub"><p>n</p></th>
<td><p>1</p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 2}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 3}\)</span></p></td>
<td><p><span class="math notranslate nohighlight">\({1 \over 4}\)</span></p></td>
<td></td>
<td><p><span class="math notranslate nohighlight">\({1 \over n}\)</span></p></td>
</tr>
</tbody>
</table>
<div class="admonition-question admonition">
<p class="admonition-title">Question</p>
<p>The summation above is summing each row and then adding the row sums.
But we can tame this beast if, instead, we first sum the columns and then add the column sums.
Use the table to rewrite the double summation.
The inner summation should sum over k, and the outer summation should sum over j.</p>
</div>
<div class="math notranslate nohighlight">
\[\sum\limits^{n}_{j=1} \sum\limits^{n}_{k=j} {1 \over j}\]</div>
<div class="admonition-question admonition">
<p class="admonition-title">Question</p>
<p>Now simplify the summation to derive a closed form in terms of <em>n</em> and <span class="math notranslate nohighlight">\(H_n\)</span>.</p>
</div>
<div class="math notranslate nohighlight">
\[ \begin{align}\begin{aligned}\begin{aligned}\\\sum\limits^{n}_{j=1} \sum\limits^{n}_{k=j} {1 \over j} &amp;= \sum\limits^{n}_{j=1} {1 \over j} \cdot \sum\limits^{n}_{k=j} 1 \cr\\&amp;= \sum\limits^{n}_{j=1} {1 \over j} \cdot (n - j + 1) \cr\\&amp;= \sum\limits^{n}_{j=1} {n + 1 \over j} - 1 \cr\\&amp;= \sum\limits^{n}_{j=1} {n \over j} + \left ( \sum\limits^{n}_{j=1} {1 \over j} \right ) - n \cr\\&amp;= n(H_n) + H_n - n \cr\\&amp;= (n + 1)H_n - n \cr\\\end{aligned}\end{aligned}\end{align} \]</div>
</section>
</section>


          </div>
          
        </div>
      </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
<h1 class="logo"><a href="../index.html">maths</a></h1>








<h3>Navigation</h3>
<ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Recitations</a><ul class="current">
<li class="toctree-l2"><a class="reference internal" href="logic.html">Logic</a></li>
<li class="toctree-l2"><a class="reference internal" href="induction.html">Induction</a></li>
<li class="toctree-l2"><a class="reference internal" href="state_machines.html">State Machines</a></li>
<li class="toctree-l2"><a class="reference internal" href="greatest_common_divisor.html">Greatest Common Divisors</a></li>
<li class="toctree-l2"><a class="reference internal" href="exponentiation_modular_arithmetic_RSA.html">RSA</a></li>
<li class="toctree-l2"><a class="reference internal" href="graph_basics.html">Graph Basics</a></li>
<li class="toctree-l2"><a class="reference internal" href="stable_marriage_problem.html">A Protocol For College Admission</a></li>
<li class="toctree-l2"><a class="reference internal" href="build_up_problem.html">Build Up Error</a></li>
<li class="toctree-l2"><a class="reference internal" href="travelling_salesperson.html">Travelling Salesperson</a></li>
<li class="toctree-l2"><a class="reference internal" href="networks.html">Networks</a></li>
<li class="toctree-l2"><a class="reference internal" href="relations.html">Equivalence Relations</a></li>
<li class="toctree-l2 current"><a class="current reference internal" href="#">Doubles</a></li>
<li class="toctree-l2"><a class="reference internal" href="asymptotics.html">Asymptotic Notation</a></li>
<li class="toctree-l2"><a class="reference internal" href="asymptotics.html#asymptotic-equivalence">Asymptotic Equivalence</a></li>
<li class="toctree-l2"><a class="reference internal" href="asymptotics.html#more-asymptotic-notation">More Asymptotic Notation</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../assignments/index.html">Assignments</a></li>
</ul>

<div class="relations">
<h3>Related Topics</h3>
<ul>
  <li><a href="../index.html">Documentation overview</a><ul>
  <li><a href="index.html">Recitations</a><ul>
      <li>Previous: <a href="relations.html" title="previous chapter">Equivalence Relations</a></li>
      <li>Next: <a href="asymptotics.html" title="next chapter">Asymptotic Notation</a></li>
  </ul></li>
  </ul></li>
</ul>
</div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">Quick search</h3>
    <div class="searchformwrapper">
    <form class="search" action="../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="Go" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>








        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="footer">
      &copy;2021, Edward Spencer.
      
      |
      Powered by <a href="http://sphinx-doc.org/">Sphinx 4.4.0</a>
      &amp; <a href="https://github.com/bitprophet/alabaster">Alabaster 0.7.12</a>
      
      |
      <a href="../_sources/recitations/doubles.rst.txt"
          rel="nofollow">Page source</a>
    </div>

    

    
  </body>
</html>